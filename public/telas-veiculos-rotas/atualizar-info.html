<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/modificacao-funcionario.css">
    <title>Atualizar | Info</title>
    <link rel="shortcut icon" href="../assets/Tree Technology (Logo fundo transparente + nome).png" type="image/x-icon">
    
    <script src="../js/verificacaoSeguranca.js"></script>
</head>

<body onload="buscaUsuario(), verificarPermissao()">

            <!-- MODAL -->
            <div class="container-modal" id="container" style="display: none;">
                <div class="close">
                    <div class="title">
                        <img class="img-modal" src="../assets/treeLogo.jpeg" alt="">
                        <span class="text" id="texto_modal">Recuperação de senha</span>
                    </div>
                    <img class="img-modal" src="../assets/close.jpeg" alt="" style="height: 30px;" onclick="fecharModal()">
                </div>
                <span class="text" id="div_error"></span>
            </div>

            <div id="blur" style="display: none;"></div>

    <div class="top-menu">
        <div id="hamburguer">
            <img src="../assets/Group 23.png" style="width: 50%;">
        </div>
        <div class="btn-abrir-menu" id="btn-menu">
            <i class="bi bi-list"></i>
        </div>

        <div class="menu-mobile" id="menu-mobile">
            <div class="btn-fechar">
                <i class="bi bi-x-lg"></i>
            </div>

            <nav>
                <ul>
                    <li><a href="dashboard.html">DASHBOARD</a></li>
                    <li><a href="lista-trajetos.html">VISUALIZAR TRAJETOS</a></li>
                    <li id="item-func"><a href="../telas-trajetos-func/lista-funcionario.html">VISUALIZAR FUNCIONÁRIOS</a></li>
                    <li><a href="../index.html">SAIR</a></li>
                </ul>
            </nav>
        </div>

        <div class="overlay-menu" id="overlay-menu"></div>

        <div class="icons">
            <img src="../assets/Bell.png" onclick="telaNotificação()" style="visibility: hidden;">
            <img src="../assets/Icon.png" id="user" onclick="telaUser()">
            <img src="../assets/icon dashboard.png" id="dash" onclick="telaDash()">
        </div>

    </div>

    <main class="container">

        <h1>Atualizar informações</h1>

        <div class="box">
            <div class="posicionamento">
                <forms class="forms">

                    <p>Nome</p>
                    <input type="text" name="" id="nome" required>

                    <p>CPF</p>
                    <input style="background-color: #BBBB; cursor: not-allowed;" type="text" id="cpf"
                        oninput="mascaraCPF()" disabled required>

                    <p>E-mail</p>
                    <input type="email" name="" id="email" required>

                    <p>Senha</p>
                    <button onclick="redirecionarRedefinir()" id="redefinir">CLIQUE AQUI PARA REDEFINIR</button>

                    <button style="margin-top: 25px;" id="adicionar" onclick="salvarMudancas()" >Salvar mudanças</button>

                    <span style="cursor: pointer; color: #f75050; font-weight: 800; align-self: end;"
                        onclick="mensagemConfirmar()">Deletar
                        conta</span>
                    <div class="box-2" id="confirmarcao" style="display: none; margin-top: 8vh;">
                        <span style="align-self: center; color: black;">Tem certeza que deseja excluir sua conta?</span>
                        <div>
                            <button id="adicionar" style="background-color: #f75050;" onclick="deletarConta()">Deletar conta</button>
                            <button id="adicionar" onclick="cancelarMensagem()">Cancelar</button>
                        </div>
                    </div>
                </forms>


            </div>
    </main>
</body>

<script src="../js/icons.js"></script>
<script src="../js/atualizar-info.js"></script>

</html>
<script>


    let hamburgu = document.getElementById('hamburguer');
    let menu = document.getElementById('menu-mobile');
    let overlay = document.getElementById('overlay-menu');
    let btnFechar = document.querySelector('.btn-fechar');

    hamburgu.addEventListener('click', () => {
        menu.classList.add('abrir-menu')
    })

    menu.addEventListener('click', () => {
        menu.classList.remove('abrir-menu')
    })

    overlay.addEventListener('click', () => {
        menu.classList.remove('abrir-menu')
    })

    btnFechar.addEventListener('click', () => {
        menu.classList.remove('abrir-menu');
        overlay.style.display = 'none';
    });

    function mascaraData() {
        var data = document.querySelector("#data");
        data.value = data.value.replace(/\D+/g, '') // Remove caracteres não numéricos      
            .replace(/(\d{2})(\d)/, '$1/$2')        // Adiciona a primeira barra após o dia        
            .replace(/(\d{2})(\d)/, '$1/$2')        // Adiciona a segunda barra após o mês       
            .replace(/(\d{4})\d+?$/, '$1');         // Limita o ano a quatro dígitos
    }

    function mascaraData2() {
        var data2 = document.querySelector("#data2");
        data2.value = data2.value.replace(/\D+/g, '') // Remove caracteres não numéricos      
            .replace(/(\d{2})(\d)/, '$1/$2')        // Adiciona a primeira barra após o dia        
            .replace(/(\d{2})(\d)/, '$1/$2')        // Adiciona a segunda barra após o mês       
            .replace(/(\d{4})\d+?$/, '$1');         // Limita o ano a quatro dígitos
    }

    function mascaraCPF() {
        var cpf = document.querySelector("#cpf");
        cpf.value = cpf.value.replace(/\D+/g, '')
            .replace(/(\d{3})(\d)/, '$1.$2')
            .replace(/(\d{3})(\d)/, '$1.$2')
            .replace(/(\d{3})(\d)/, '$1-$2')
            .replace(/(-\d{2})\d+?$/, '$1')
    }

    function redirecionarRedefinir() {
        window.location = "../telas-redefinicao-senha/redefinir.html"
    }

    function cancelarMensagem() {
        var mensagemConfirmar = document.getElementById('confirmarcao');
        mensagemConfirmar.style.display = "none";
    }
    function fecharModal() {
        let blur = document.getElementById("blur");

        container.style.display = "none";
        blur.style.display = "none";

    }
</script>